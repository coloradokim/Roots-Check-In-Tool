{"version":3,"sources":["webpack:///./public/js/grove-overview.js"],"names":[],"mappings":";;;;;;;0CAAA;AACA;;;AAGA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,WAAW;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,2BAA2B;AACpC;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,2BAA2B;AACpC;AACA;AACA;AACA;AACA,GAAE;;;AAGF;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF,EAAC","file":"GroveOverview.js","sourcesContent":["require('jquery');\nrequire('jquery-ui');\n\n\n// get cookies to access data\n \n// from teacherController\n\n\n// groveOverview: function(req, res, socket) {\n// \tvar user = {\n// \t\tid: req.cookies.googleId,\n// \t\tname: req.cookies.name,\n// \t\timage:  req.cookies.image\n// \t}\n// \tres.render('grove-overview', {user: user});\n// }\n\nfunction getCurrentTeacher(){\nconsole.log(cookies.get(name));\n\t// return {\n\t// \tid: req.cookies.googleId,\n\t// \t\tname: req.cookies.name,\n\t// \t\timage:  req.cookies.image\n\t// }\n}\n\nfunction getStudents(){\n\tvar url = \"/api/user\";\n\tvar students;\n\t$.ajax({\n\t\turl: url,\n\t\tdataType: \"json\",\n\t\tsuccess: function(users){\n\t\t\tstudents = users;\n\t\t\tupdateStudentNumbers(students)\n\t\t}\n\t})\n}\n\nfunction updateStudentNumbers(students){\n\tconsole.log(students);\n\tvar zoneNow = {\n\t\t\"Flex Center\": 0,\n\t\t\"Maker Center\": 0,\n\t\t\"iPad Center\": 0,\n\t\t\"Library Center\": 0,\n\t\t\"Writing Center\": 0\n\t};\n\tvar zoneNext = {\n\t\t\"Flex Center\": 0,\n\t\t\"Maker Center\": 0,\n\t\t\"iPad Center\": 0,\n\t\t\"Library Center\": 0,\n\t\t\"Writing Center\": 0\n\t};\n\n    students.forEach(function(doc) {\n    \tif (doc.groveCalendar.length > 0) {\n    \t\tzoneNow[doc.groveCalendar[0].location] += 1\n    \t}\n    \tif (doc.groveCalendar.length > 1) {\n      \t\tzoneNext[doc.groveCalendar[1].location] += 1\n    \t}\n    \t//grab element in DOM with jquery and assign\n    \tconsole.log('now: ', zoneNow, 'next: ', zoneNext);\n    });\n}\n\nfunction getZones(){\n\tvar url = \"/api/zones\";\n\tvar zones;\n\t$.ajax({\n\t\turl: url,\n\t\tdataType: \"json\",\n\t\tsuccess: function(zones){\n\t\t\tzones = zones;\n\t\t\tupdateZoneAssignments(zones)\n\t\t}\n\t})\n}\n\nfunction updateZoneAssignments(zones){\n\tconsole.log(zones)\n}\n\nfunction toggleWatching(zone){\n\t//check watching class to see if zone is active\n\tif($(zone).hasClass( \"currently-watching\" )){\n\t\t$(zone).removeClass( \"currently-watching\");\n\t\ttapout(zone);\n\t}\n\telse {\n\t\t$(zone).addClass(\"currently-watching\");\n\t\ttapin(zone);\n\t}\n}\n\nfunction tapin(zone){\n\tconsole.log(\"you are the zone: \"+zone.id);\n\tteacher = getCurrentTeacher();\n\tconsole.log(teacher);\n\tdata = {\n\t\tteacher_id: teacher,\n\t\tzone: zone.id\n\t};\n\turl = \"/api/zone\";\n\t$.ajax({\n\t\turl: url,\n\t\ttype: \"POST\",\n\t\tdata: {data: JSON.stringify(data)},\n\t\tdataType: \"json\",\n\t\tsuccess: function(){\n\t\t\trefreshMap();\n\t\t}\n\t});\n\n}\n\nfunction tapout(zone){\n\tconsole.log(\"Removed from zone: \"+zone.id);\n\tdata = {\n\t\tteacher_id: getCurrentTeacher(),\n\t\tzone: zone.id\n\t};\n\turl = \"/api/zone/remove\";\n\t$.ajax({\n\t\turl: url,\n\t\ttype: \"POST\",\n\t\tdata: {data: JSON.stringify(data)},\n\t\tdataType: \"json\",\n\t\tsuccess: function(){\n\t\t\trefreshMap();\n\t\t}\n\t});\n\n\n}\n\nfunction refreshMap(){\n\tconsole.log(\"refreshing the map\");\n\t// Add currently-watching class to any class they are currently watching\n\n\t// Add Avitar to currently watching\n\n\t// Add other teachers Avitars to the other teachers area\n\n\t// update counts of students\n\n}\n\n// getStudents();\ngetZones();\n\n$(document).ready( function(){\n\trefreshMap();\n\n\t$(\".container a\").each(function(index, el){\n\t\t$(el).on(\"click\", function(){\n\t\t\ttoggleWatching(el);\n\t\t});\n\t})\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/js/grove-overview.js\n ** module id = 0\n ** module chunks = 1\n **/"],"sourceRoot":""}